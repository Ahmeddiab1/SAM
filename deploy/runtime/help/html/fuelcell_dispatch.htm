<!DOCTYPE html>
<html>
<head>
   <title>Dispatch</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="" />
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   
   <meta http-equiv="X-UA-Compatible" content="IE=edge" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <style type="text/css">
     body { margin: 0px; background: #FFFFFF; }
   </style>
   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>

   <script type="text/javascript">
     HMSyncTOC("index.html", "fuelcell_dispatch.htm");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
<body>


<table style="width:100%; border:none; border-spacing:0px; padding:5px; background:#FFFFFF; color:#0072C6;">
  <tr style="vertical-align:middle">
    <td style="text-align:left">
      <h1 class="p_Heading1"><span class="f_Heading1">Dispatch</span></h1>

    </td>
  </tr>
</table>


<!-- Placeholder for topic body. -->
<table style="width:100%;border:none;border-spacing:0px"><tr style="vertical-align:top"><td style="text-align:left;padding:5px">
<p class="p_Text"><span class="f_Text">The fuel cell Dispatch page provides options for defining how to operate the fuel cell stack and battery bank.</span></p>
<p class="p_Text"><span class="f_Text">The battery storage dispatch options available depend on whether the system is in front of the electric utility meter (PPA Single Owner financial model) or behind the meter (Commercial financial model).</span></p>
<h3 class="p_Heading3_atocs_" style="page-break-inside: avoid; page-break-after: avoid; border-top: none; border-right: none; border-left: none;"><span class="f_Heading3_atocs_">Fuel Cell Operation</span></h3>
<p class="p_Text"><span class="f_Text">The fuel cell operation parameters determine the fuel cell operates.</span></p>
<h4 class="p_Heading4"><span class="f_Heading4">Dispatch Options</span></h4>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Fixed output</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">Operate the fuel cell at a fixed percentage of the fuel cell rated capacity at all times.</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Fixed output percentage</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">For the fixed output option, specify the percentage of the fuel cell rated capacity from the <a href="fuelcell_fuel_cell.htm" class="topiclink">Fuel Cell</a> page. This input is disabled unless you choose the </span><span class="f_CHInterfaceElement">Fixed output</span><span class="f_VariableDescription"> dispatch option.</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Follow electric load</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">Operate the fuel cell to follow the electric load defined on the <a href="electric_load.htm" class="topiclink">Electric Load</a> page.</span></p>
<p class="p_Note"><span class="f_CHNote">Note.</span><span class="f_Note"> This option does not apply to the front of meter configuration (PPA single owner financial model).</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Manual dispatch</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">Operate the fuel cell according to the </span><span class="f_CHInterfaceElement">Manual Dispatch Model</span><span class="f_VariableDescription"> parameters and schedules.</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Input dispatch</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">Operate the fuel cell according to a time series dispatch profile that you provide.</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Input dispatch schedule</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription"> For the input dispatch option, click </span><span class="f_CHInterfaceElement">Edit array</span><span class="f_VariableDescription"> to provide a time series array of either kW or percentage values at which to operate the fuel cell in each simulation time step.</span></p>
<h4 class="p_Heading4"><span class="f_Heading4">Operation Options</span></h4>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Allowed to shut down</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">Allow the fuel cell to shut down completely when it is not not needed to meet dispatch requirements.</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Idle at minimum power</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">Run the fuel cell at the minimum unit output from the <a href="fuelcell_fuel_cell.htm" class="topiclink">Fuel Cell</a> page when it is not needed to meet dispatch requirements.</span></p>
<h3 class="p_Heading3_atocs_" style="page-break-inside: avoid; page-break-after: avoid; border-top: none; border-right: none; border-left: none;"><span class="f_Heading3_atocs_">Storage Dispatch Controller (Behind Meter)</span></h3>
<p class="p_Text"><span class="f_Text">The dispatch controller determines the timing of battery charges and discharges, and discharge limits. For behind-the-meter systems (Residential, Commercial, or Third Party Financing financial models), you can either choose an automated dispatch model where SAM determines the timing automatically, input your own desired power signal for the battery, or define the timing manually using the monthly time-of-day matrices. The manual dispatch controller allows you to maximize the value of storage by matching storage dispatch to the to the <a href="electric_load.htm" class="topiclink">load</a> and <a href="electricity_rates.htm" class="topiclink">electricity rates</a>.</span></p>
<p class="p_Note"><span class="f_CHNote">Notes.</span><span class="f_Note"> </span><br />
<span class="f_Note">&nbsp;</span><br />
<span class="f_Note">The automated dispatch options use stored energy from the battery to minimize power consumption from the grid, rather than to minimize power price. The dispatch algorithm does not use information from the <a href="electricity_rates.htm" class="topiclink">Electricity Rates</a> page. Future versions of the dispatch model may include options for minimizing price.</span><br />
<span class="f_Note">&nbsp;</span><br />
<span class="f_Note">The storage dispatch controller uses hours to define periods, even for subhourly simulations.</span></p>
<h4 class="p_Heading4"><span class="f_Heading4">Choose Dispatch Model</span></h4>
<p class="p_Text"><span class="f_Text">Choose the automated dispatch model that most closely represents how you would like the battery to be charged and discharged, or choose the manual dispatch option to specify the timings manually.</span></p>
<p class="p_Note"><span class="f_CHNote">Note.</span><span class="f_Note"> The automated dispatch options are not available with the PPA financial models.</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Peak-shaving 1-day look ahead</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">For each day, look ahead to the next day's solar resource and load data, and operate system to minimize grid power consumption.</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Peak shaving 1-day look behind</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">For each day, look behind to the previous day's solar resource and load data, and operate the system to minimize grid power consumption.</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Automated grid power target</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">Operate the system to shave peak demand to meet grid power targets that you specify. The target can be a single annual target, monthly targets, or targets for specific time steps.</span></p>
<p class="p_Text"><span class="f_Text">When you choose the automated grid power target model, you must also specify the </span><span class="f_CHInterfaceElement">input grid power target(s)</span><span class="f_Text">:</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Enter single or monthly powers</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">Choose this option to specify a either a single grid power target for the entire year, or a grid power target for each month. Click </span><span class="f_CHInterfaceElement">Edit values</span><span class="f_VariableDescription"> to specify the targets.</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Enter time series powers</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">Choose this option to enter a grid power target for each time step in the simulation. Click </span><span class="f_CHInterfaceElement">Edit data</span><span class="f_VariableDescription"> to specify the targets.</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Input battery dispatch</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">Input a time series of desired battery power charging and discharging. &nbsp;Discharge power is specified as greater than zero, charge power is specified as a negative number. &nbsp;The dispatch controller will attempt to operate the battery with this signal, within the context of state-of-charge and power constraints.</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">When you choose the input battery dispatch optoin, you must also specify the battery power (greater than zero for discharge, less than zero for charge) for every time step in the first year. Click </span><span class="f_CHInterfaceElement">Edit data</span><span class="f_VariableDescription"> to specify the power.</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Manual dispatch</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">No automation. You specify the timing of battery charges and discharges using up to six dispatch periods and a set of weekday and weekend hourly profiles by month under </span><span class="f_CHInterfaceElement">Manual Dispatch Model</span><span class="f_VariableDescription">.</span></p>
<p class="p_VariableDescription"><span class="f_Text">The manual dispatch controller always assumes that PV meets the electric load before charging the battery. The PV system will charge the battery with any excess if that option has been selected for the current time.</span></p>
<h4 class="p_Heading4"><span class="f_Heading4">Charge Options</span></h4>
<p class="p_VariableDescription"><span class="f_VariableDescription">For non-manual dispatch options, choose whether the battery can charge from the grid and or from the system (PV or generic system). For the manual dispatch option, use the options to specify how the battery is charged or discharged for each dispatch period.</span></p>
<h3 class="p_Heading3_atocs_" style="page-break-inside: avoid; page-break-after: avoid; border-top: none; border-right: none; border-left: none;"><span class="f_Heading3_atocs_">Storage Dispatch Controller (Front of Meter)</span></h3>
<p class="p_Text"><span class="f_Text">The dispatch controller determines the timing of battery charges and discharges, and discharge limits. For front-of-meter systems (PPA, Merchant Plant financial models), you can either choose an automated dispatch model where SAM determines the timing automatically, input your own desired power signal for the battery, or define the timing manually using the monthly time-of-day matrices. </span></p>
<p class="p_Text"><span class="f_Text">The manual dispatch controller allows you to maximize the value of storage by matching storage dispatch to the to the time-of-delivery (TOD) factors on the <a href="revenue.htm" class="topiclink">Revenue</a> page for the Single Owner model, or the Time of Delivery factors page for the other PPA financial models.</span></p>
<h4 class="p_Heading4"><span class="f_Heading4">Choose Dispatch Model</span></h4>
<p class="p_Text"><span class="f_Text">Choose the automated dispatch model that most closely represents how you would like the battery to be charged and discharged, or choose the manual dispatch option to specify the timings manually.</span></p>
<p class="p_Note"><span class="f_CHNote">Note.</span><span class="f_Note"> The automated dispatch options are not available with the PPA financial models.</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Automated dispatch: Perfect look ahead</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">For each day, look ahead to the next day's available power from the system and time-of-delivery (TOD) multipliers, and operate system to maximize revenue.</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Automated dispatch: 1-day look behind</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">For each day, look behind to the previous day's available power from the system time-of-delivery (TOD) multipliers, and operate system to maximize revenue.</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Automated dispatch: Input forecast</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">Similar to the perfect look ahead automated dispatch option, except, for PV battery configuration, use a different weather file for the solar resource forecast.</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Manual dispatch</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">No automation. You specify the timing of battery charges and discharges using up to six dispatch periods and a set of weekday and weekend hourly profiles by month under </span><span class="f_CHInterfaceElement">Manual Dispatch Model</span><span class="f_VariableDescription">.</span></p>
<p class="p_VariableDescription"><span class="f_Text">The manual dispatch controller always assumes that PV meets the electric load before charging the battery. The PV system will charge the battery with any excess if that option has been selected for the current time.</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Input Battery Dispatch</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">Choose this option to charge and discharge the battery according to a time-series dispatch signal.</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Battery Charge Options</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">For non-manual dispatch options, choose whether the battery can charge from the grid and or from the system (PV or generic system).</span></p>
<h4 class="p_Heading4"><span class="f_Heading4">Automated Dispatch Options</span></h4>
<p class="p_Text"><span class="f_Text">When you choose the automated dispatch option, you must also choose a weather file and specify dispatch options.</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Choose weather forecast file</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">Choose a weather file in the SAM CSV format to use for the solar resource forecast that is different from the file used for the simulation.</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Frequency to update dispatch</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">Determines how often a new dispatch decision is made.</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Look-ahead period</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">The number of hours ahead of the current time step to use for the dispatch decision in the current time step.</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Battery cycle cost choice</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">Choose a method for estimating the cost of cycling the battery: Choose </span><span class="f_CHInterfaceElement">Model cycle costs</span><span class="f_VariableDescription"> if you want SAM to calculate the cost, or choose </span><span class="f_CHInterfaceElement">Input cycle costs</span><span class="f_VariableDescription"> to enter a cost per cycle-kWh value.</span></p>
<h3 class="p_Heading3_atocs_" style="page-break-inside: avoid; page-break-after: avoid; border-top: none; border-right: none; border-left: none;"><span class="f_Heading3_atocs_">Manual Dispatch Model</span></h3>
<p class="p_Text"><span class="f_Text">The manual dispatch model allows you to manually specify the timing of battery charges and discharges. Choose the </span><span class="f_CHInterfaceElement">Manual dispatch</span><span class="f_Text"> option under </span><span class="f_CHInterfaceElement">Choose Dispatch Model</span><span class="f_Text"> to make the manual dispatch inputs active.</span></p>
<p class="p_Text"><span class="f_Text">You can specify how you want to charge the battery (from grid or system), and whether to allow battery discharging for up to six periods. Use the weekday and weekend schedules to specify the hour of day and month of year that each period applies.</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Charge from PV</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">For each period that you want to allow the battery to be charged by power from the photovoltaic array, check the box in the </span><span class="f_CHInterfaceElement">Charge from PV</span><span class="f_VariableDescription"> column. </span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Charge from grid</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">For each period that you want to allow the battery to be charged by power from the grid, check the box in the </span><span class="f_CHInterfaceElement">Allow</span><span class="f_VariableDescription"> column, and specify the percentage of the battery's state of charge that can be charged from the grid over the time step.</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">For example, for hourly simulations, a value of 25% would allow the grid to deliver 25% of the battery state of charge at the beginning of the hour over the hour. The purpose of the percentage is to prevent the battery from being charged too quickly. See the example below under </span><span class="f_CHInterfaceElement">Discharge</span><span class="f_VariableDescription"> for more details.</span></p>
<p class="p_Note"><span class="f_CHNote">Note.</span><span class="f_Note"> For subhourly simulations, the charge and discharge percentages apply to the subhourly time step even though the periods are defined in hours.</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">For a behind-the-meter application, if </span><span class="f_CHInterfaceElement">Charge from grid</span><span class="f_VariableDescription"> and </span><span class="f_CHInterfaceElement">Charge from System</span><span class="f_VariableDescription"> are both checked for a given period, and if in a time step in that period the system power is greater than the <a href="electric_load.htm" class="topiclink">load</a>, power from the grid will supplement the system power to meet the battery charge requirement.</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">If </span><span class="f_CHInterfaceElement">Charge from grid</span><span class="f_VariableDescription"> and </span><span class="f_CHInterfaceElement">Allow discharging</span><span class="f_VariableDescription"> are both checked for a given period, and if in a time step in that period the battery state of charge is above the minimum state of charge, the battery discharges until it reaches the minimum state of charge, at which point it starts charging from the grid, either until it reaches the maximum state of charge, or until the time period changes to one that does not allow charging from the grid.</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Discharge</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">For each period that you want to allow the battery to discharge, check the box in the </span><span class="f_CHInterfaceElement">Allow</span><span class="f_VariableDescription"> column, and specify the percentage of the battery's available charge that can be dispatched over the time step. The available charge is defined by the minimum and maximum state of charge values under </span><span class="f_CHInterfaceElement">Charge Limits and Priority</span><span class="f_VariableDescription">. </span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">For example, if Period 3 is the four consecutive hours between 3 pm and 6 pm, the discharge capacity is 25%, and the charge limits are 30% and 96%, for an hourly simulation, that would allow up to 25% of the charge the battery holds at the beginning of the 3 pm hour to be discharged over the hour. For the 4 pm hour, 25% of the charge at the end of the 3 pm hour would be available, and so on until the end of Period 3. The 25% value would discharge the battery over the full four-hour period. (A 20% value would have the same effect for a 5-hour period, i.e., if Period 3 were between 3 pm and 7 pm.)</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">For a one-minute simulation, a capacity to discharge of 25% would allow up to 25% of the available charge to be dispatched </span><span class="f_Emphasis">every minute</span><span class="f_VariableDescription"> over Period 3, so a smaller percentage would be required to allow the battery to discharge over the full four-hour period.</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Weekday and Weekend Schedules</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">To define the hour of day and month of year that each period applies, use your mouse to select a rectangle in the schedule matrix, and use your keyboard to type the period number (1-6). The number you type should appear in the rectangle.</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">See <a href="weekday-schedule.htm" class="topiclink">Weekday-weekend Schedules</a> for a step-by-step description of how to use the schedule matrices</span>.</p>

</td></tr></table>

</body>
</html>
